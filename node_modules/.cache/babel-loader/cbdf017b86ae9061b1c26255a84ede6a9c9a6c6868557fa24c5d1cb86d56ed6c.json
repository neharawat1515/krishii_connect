{"ast":null,"code":"var _jsxFileName = \"/home/sarika/krishiii/src/context/AppContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useState, useContext, useEffect } from 'react';\nimport { productAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AppContext = /*#__PURE__*/createContext();\nexport const useAppContext = () => {\n  _s();\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useAppContext must be used within AppProvider');\n  }\n  return context;\n};\n_s(useAppContext, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AppProvider = ({\n  children\n}) => {\n  _s2();\n  const [voiceEnabled, setVoiceEnabled] = useState(true);\n  const [currentPage, setCurrentPage] = useState('language');\n  const [userType, setUserType] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('en');\n  const [cart, setCart] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [formData, setFormData] = useState({\n    name: '',\n    phone: '',\n    location: '',\n    password: '',\n    businessType: ''\n  });\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Check if user is logged in on mount\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const user = localStorage.getItem('currentUser');\n    if (token && user) {\n      setCurrentUser(JSON.parse(user));\n      setIsAuthenticated(true);\n      setUserType(JSON.parse(user).userType);\n    }\n  }, []);\n\n  // Fetch products from backend\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        const response = await productAPI.getAll();\n        setProducts(response.data);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        // Fallback to initial products if backend fails\n        setProducts(initialProducts);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProducts();\n  }, []);\n  const initialProducts = [{\n    id: 1,\n    name: 'Wheat',\n    nameHi: 'à¤—à¥‡à¤¹à¥‚à¤‚',\n    namePa: 'à¨•à¨£à¨•',\n    nameBn: 'à¦—à¦®',\n    price: 2100,\n    unit: 'quintal',\n    stock: 50,\n    emoji: 'ðŸŒ¾',\n    quality: 'A Grade',\n    farmer: 'Ram Kumar',\n    location: 'Rampur',\n    rating: 4.8\n  }, {\n    id: 2,\n    name: 'Rice',\n    nameHi: 'à¤§à¤¾à¤¨',\n    namePa: 'à¨šà©Œà¨²',\n    nameBn: 'à¦šà¦¾à¦²',\n    price: 1950,\n    unit: 'quintal',\n    stock: 30,\n    emoji: 'ðŸŒ¾',\n    quality: 'Premium',\n    farmer: 'Shyam Singh',\n    location: 'Meerut',\n    rating: 4.6\n  }, {\n    id: 3,\n    name: 'Potato',\n    nameHi: 'à¤†à¤²à¥‚',\n    namePa: 'à¨†à¨²à©‚',\n    nameBn: 'à¦†à¦²à§',\n    price: 1200,\n    unit: 'quintal',\n    stock: 100,\n    emoji: 'ðŸ¥”',\n    quality: 'Fresh',\n    farmer: 'Mohan Lal',\n    location: 'Agra',\n    rating: 4.7\n  }, {\n    id: 4,\n    name: 'Onion',\n    nameHi: 'à¤ªà¥à¤¯à¤¾à¤œ',\n    namePa: 'à¨ªà¨¿à¨†à¨œà¨¼',\n    nameBn: 'à¦ªà§‡à¦à¦¯à¦¼à¦¾à¦œ',\n    price: 2800,\n    unit: 'quintal',\n    stock: 75,\n    emoji: 'ðŸ§…',\n    quality: 'Grade A',\n    farmer: 'Krishna Das',\n    location: 'Nashik',\n    rating: 4.9\n  }, {\n    id: 5,\n    name: 'Tomato',\n    nameHi: 'à¤Ÿà¤®à¤¾à¤Ÿà¤°',\n    namePa: 'à¨Ÿà¨®à¨¾à¨Ÿà¨°',\n    nameBn: 'à¦Ÿà¦®à§‡à¦Ÿà§‹',\n    price: 1800,\n    unit: 'quintal',\n    stock: 60,\n    emoji: 'ðŸ…',\n    quality: 'Fresh',\n    farmer: 'Ravi Kumar',\n    location: 'Pune',\n    rating: 4.5\n  }];\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('currentUser');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setCurrentPage('language');\n    setCart([]);\n    setOrders([]);\n  };\n  const value = {\n    voiceEnabled,\n    setVoiceEnabled,\n    currentPage,\n    setCurrentPage,\n    userType,\n    setUserType,\n    selectedLanguage,\n    setSelectedLanguage,\n    cart,\n    setCart,\n    orders,\n    setOrders,\n    products,\n    setProducts,\n    chatMessages,\n    setChatMessages,\n    formData,\n    setFormData,\n    currentUser,\n    setCurrentUser,\n    isAuthenticated,\n    setIsAuthenticated,\n    loading,\n    setLoading,\n    logout\n  };\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 165,\n    columnNumber: 10\n  }, this);\n};\n_s2(AppProvider, \"1nR+CQCinjEdqSZHhmMFjvHeqSc=\");\n_c = AppProvider;\nvar _c;\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"names":["React","createContext","useState","useContext","useEffect","productAPI","jsxDEV","_jsxDEV","AppContext","useAppContext","_s","context","Error","AppProvider","children","_s2","voiceEnabled","setVoiceEnabled","currentPage","setCurrentPage","userType","setUserType","selectedLanguage","setSelectedLanguage","cart","setCart","orders","setOrders","products","setProducts","chatMessages","setChatMessages","formData","setFormData","name","phone","location","password","businessType","currentUser","setCurrentUser","isAuthenticated","setIsAuthenticated","loading","setLoading","token","localStorage","getItem","user","JSON","parse","fetchProducts","response","getAll","data","error","console","initialProducts","id","nameHi","namePa","nameBn","price","unit","stock","emoji","quality","farmer","rating","logout","removeItem","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/sarika/krishiii/src/context/AppContext.js"],"sourcesContent":["import React, { createContext, useState, useContext, useEffect } from 'react';\nimport { productAPI } from '../services/api';\n\nconst AppContext = createContext();\n\nexport const useAppContext = () => {\n  const context = useContext(AppContext);\n  if (!context) {\n    throw new Error('useAppContext must be used within AppProvider');\n  }\n  return context;\n};\n\nexport const AppProvider = ({ children }) => {\n  const [voiceEnabled, setVoiceEnabled] = useState(true);\n  const [currentPage, setCurrentPage] = useState('language');\n  const [userType, setUserType] = useState('');\n  const [selectedLanguage, setSelectedLanguage] = useState('en');\n  const [cart, setCart] = useState([]);\n  const [orders, setOrders] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [chatMessages, setChatMessages] = useState([]);\n  const [formData, setFormData] = useState({\n    name: '', phone: '', location: '', password: '', businessType: ''\n  });\n  const [currentUser, setCurrentUser] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // Check if user is logged in on mount\n  useEffect(() => {\n    const token = localStorage.getItem('token');\n    const user = localStorage.getItem('currentUser');\n    \n    if (token && user) {\n      setCurrentUser(JSON.parse(user));\n      setIsAuthenticated(true);\n      setUserType(JSON.parse(user).userType);\n    }\n  }, []);\n\n  // Fetch products from backend\n  useEffect(() => {\n    const fetchProducts = async () => {\n      try {\n        setLoading(true);\n        const response = await productAPI.getAll();\n        setProducts(response.data);\n      } catch (error) {\n        console.error('Error fetching products:', error);\n        // Fallback to initial products if backend fails\n        setProducts(initialProducts);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchProducts();\n  }, []);\n\n  const initialProducts = [\n    { \n      id: 1, \n      name: 'Wheat', \n      nameHi: 'à¤—à¥‡à¤¹à¥‚à¤‚',\n      namePa: 'à¨•à¨£à¨•',\n      nameBn: 'à¦—à¦®',\n      price: 2100, \n      unit: 'quintal', \n      stock: 50, \n      emoji: 'ðŸŒ¾', \n      quality: 'A Grade', \n      farmer: 'Ram Kumar', \n      location: 'Rampur', \n      rating: 4.8 \n    },\n    { \n      id: 2, \n      name: 'Rice', \n      nameHi: 'à¤§à¤¾à¤¨',\n      namePa: 'à¨šà©Œà¨²',\n      nameBn: 'à¦šà¦¾à¦²',\n      price: 1950, \n      unit: 'quintal', \n      stock: 30, \n      emoji: 'ðŸŒ¾', \n      quality: 'Premium', \n      farmer: 'Shyam Singh', \n      location: 'Meerut', \n      rating: 4.6 \n    },\n    { \n      id: 3, \n      name: 'Potato', \n      nameHi: 'à¤†à¤²à¥‚',\n      namePa: 'à¨†à¨²à©‚',\n      nameBn: 'à¦†à¦²à§',\n      price: 1200, \n      unit: 'quintal', \n      stock: 100, \n      emoji: 'ðŸ¥”', \n      quality: 'Fresh', \n      farmer: 'Mohan Lal', \n      location: 'Agra', \n      rating: 4.7 \n    },\n    { \n      id: 4, \n      name: 'Onion', \n      nameHi: 'à¤ªà¥à¤¯à¤¾à¤œ',\n      namePa: 'à¨ªà¨¿à¨†à¨œà¨¼',\n      nameBn: 'à¦ªà§‡à¦à¦¯à¦¼à¦¾à¦œ',\n      price: 2800, \n      unit: 'quintal', \n      stock: 75, \n      emoji: 'ðŸ§…', \n      quality: 'Grade A', \n      farmer: 'Krishna Das', \n      location: 'Nashik', \n      rating: 4.9 \n    },\n    { \n      id: 5, \n      name: 'Tomato', \n      nameHi: 'à¤Ÿà¤®à¤¾à¤Ÿà¤°',\n      namePa: 'à¨Ÿà¨®à¨¾à¨Ÿà¨°',\n      nameBn: 'à¦Ÿà¦®à§‡à¦Ÿà§‹',\n      price: 1800, \n      unit: 'quintal', \n      stock: 60, \n      emoji: 'ðŸ…', \n      quality: 'Fresh', \n      farmer: 'Ravi Kumar', \n      location: 'Pune', \n      rating: 4.5 \n    }\n  ];\n\n  const logout = () => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('currentUser');\n    setCurrentUser(null);\n    setIsAuthenticated(false);\n    setCurrentPage('language');\n    setCart([]);\n    setOrders([]);\n  };\n\n  const value = {\n    voiceEnabled, setVoiceEnabled,\n    currentPage, setCurrentPage,\n    userType, setUserType,\n    selectedLanguage, setSelectedLanguage,\n    cart, setCart,\n    orders, setOrders,\n    products, setProducts,\n    chatMessages, setChatMessages,\n    formData, setFormData,\n    currentUser, setCurrentUser,\n    isAuthenticated, setIsAuthenticated,\n    loading, setLoading,\n    logout\n  };\n\n  return <AppContext.Provider value={value}>{children}</AppContext.Provider>;\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}