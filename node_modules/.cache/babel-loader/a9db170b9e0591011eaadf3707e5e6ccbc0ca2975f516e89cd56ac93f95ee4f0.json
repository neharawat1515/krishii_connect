{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useAppContext } from '../context/AppContext';\nimport { languages } from '../utils/translations';\nexport const useVoiceGuidance = () => {\n  _s();\n  const {\n    voiceEnabled,\n    selectedLanguage\n  } = useAppContext();\n  const speak = text => {\n    if (!voiceEnabled || !('speechSynthesis' in window)) return;\n    window.speechSynthesis.cancel();\n    const utterance = new SpeechSynthesisUtterance(text);\n    const langObj = languages.find(l => l.code === selectedLanguage);\n    utterance.lang = (langObj === null || langObj === void 0 ? void 0 : langObj.voiceLang) || 'en-US';\n\n    // Female voice settings\n    utterance.rate = 0.85; // Slow and clear\n    utterance.pitch = 1.3; // Higher pitch for female voice\n    utterance.volume = 1.0; // Full volume\n\n    // Try to use female voice\n    const voices = window.speechSynthesis.getVoices();\n\n    // Find female voice based on language\n    let femaleVoice = null;\n    if (selectedLanguage === 'hi') {\n      // Hindi female voices\n      femaleVoice = voices.find(v => v.lang.includes('hi') && (v.name.includes('female') || v.name.includes('Female') || v.name.includes('woman') || v.name.includes('Kalpana') || v.name.includes('Lekha')));\n    } else if (selectedLanguage === 'en') {\n      // English female voices\n      femaleVoice = voices.find(v => v.lang.includes('en') && (v.name.includes('Female') || v.name.includes('Samantha') || v.name.includes('Victoria') || v.name.includes('Karen') || v.name.includes('Moira') || v.name.includes('Tessa')));\n    } else if (selectedLanguage === 'pa') {\n      // Punjabi female voices\n      femaleVoice = voices.find(v => v.lang.includes('pa') && v.name.includes('Female'));\n    } else if (selectedLanguage === 'bn') {\n      // Bangla female voices\n      femaleVoice = voices.find(v => v.lang.includes('bn') && v.name.includes('Female'));\n    }\n\n    // If no specific female voice found, try any female voice in that language\n    if (!femaleVoice) {\n      femaleVoice = voices.find(v => v.lang.includes(langObj === null || langObj === void 0 ? void 0 : langObj.voiceLang.split('-')[0]) && (v.name.toLowerCase().includes('female') || v.name.toLowerCase().includes('woman')));\n    }\n\n    // If still no female voice, use first voice with higher pitch\n    if (femaleVoice) {\n      utterance.voice = femaleVoice;\n    }\n    window.speechSynthesis.speak(utterance);\n  };\n  return {\n    speak\n  };\n};\n_s(useVoiceGuidance, \"eaNcdHSYPIYRj7iEdDc5cnYmDAg=\", false, function () {\n  return [useAppContext];\n});","map":{"version":3,"names":["useAppContext","languages","useVoiceGuidance","_s","voiceEnabled","selectedLanguage","speak","text","window","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","langObj","find","l","code","lang","voiceLang","rate","pitch","volume","voices","getVoices","femaleVoice","v","includes","name","split","toLowerCase","voice"],"sources":["/home/sarika/krishiii/src/components/VoiceGuidance.js"],"sourcesContent":["import { useAppContext } from '../context/AppContext';\r\nimport { languages } from '../utils/translations';\r\n\r\nexport const useVoiceGuidance = () => {\r\n  const { voiceEnabled, selectedLanguage } = useAppContext();\r\n\r\n  const speak = (text) => {\r\n    if (!voiceEnabled || !('speechSynthesis' in window)) return;\r\n    \r\n    window.speechSynthesis.cancel();\r\n    \r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    const langObj = languages.find(l => l.code === selectedLanguage);\r\n    utterance.lang = langObj?.voiceLang || 'en-US';\r\n    \r\n    // Female voice settings\r\n    utterance.rate = 0.85; // Slow and clear\r\n    utterance.pitch = 1.3; // Higher pitch for female voice\r\n    utterance.volume = 1.0; // Full volume\r\n    \r\n    // Try to use female voice\r\n    const voices = window.speechSynthesis.getVoices();\r\n    \r\n    // Find female voice based on language\r\n    let femaleVoice = null;\r\n    \r\n    if (selectedLanguage === 'hi') {\r\n      // Hindi female voices\r\n      femaleVoice = voices.find(v => \r\n        v.lang.includes('hi') && \r\n        (v.name.includes('female') || v.name.includes('Female') || v.name.includes('woman') || v.name.includes('Kalpana') || v.name.includes('Lekha'))\r\n      );\r\n    } else if (selectedLanguage === 'en') {\r\n      // English female voices\r\n      femaleVoice = voices.find(v => \r\n        v.lang.includes('en') && \r\n        (v.name.includes('Female') || v.name.includes('Samantha') || v.name.includes('Victoria') || v.name.includes('Karen') || v.name.includes('Moira') || v.name.includes('Tessa'))\r\n      );\r\n    } else if (selectedLanguage === 'pa') {\r\n      // Punjabi female voices\r\n      femaleVoice = voices.find(v => \r\n        v.lang.includes('pa') && v.name.includes('Female')\r\n      );\r\n    } else if (selectedLanguage === 'bn') {\r\n      // Bangla female voices\r\n      femaleVoice = voices.find(v => \r\n        v.lang.includes('bn') && v.name.includes('Female')\r\n      );\r\n    }\r\n    \r\n    // If no specific female voice found, try any female voice in that language\r\n    if (!femaleVoice) {\r\n      femaleVoice = voices.find(v => \r\n        v.lang.includes(langObj?.voiceLang.split('-')[0]) && \r\n        (v.name.toLowerCase().includes('female') || v.name.toLowerCase().includes('woman'))\r\n      );\r\n    }\r\n    \r\n    // If still no female voice, use first voice with higher pitch\r\n    if (femaleVoice) {\r\n      utterance.voice = femaleVoice;\r\n    }\r\n    \r\n    window.speechSynthesis.speak(utterance);\r\n  };\r\n\r\n  return { speak };\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}